{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\PROJECT_EASY_TEAM\\\\FrontEnd\\\\src\\\\components\\\\admin\\\\Profile\\\\EditProfile.js\",\n    _s = $RefreshSig$();\n\n// import React from \"react\";\n// import {\n//   Button,\n//   Modal,\n//   ModalHeader,\n//   ModalBody,\n//   ModalFooter,\n//   FormGroup,\n//   Label,\n//   Input,\n// } from \"reactstrap\";\n// class EditProfile extends React.Component {\n//   render() {\n//     return (\n//       <div>\n//         <Modal\n//           isOpen={this.props.editUserModal}\n//           toggle={this.props.toggleEditUserModal}\n//         >\n//           <ModalHeader toggle={this.props.toggleEditUserModal}>\n//             Update User\n//           </ModalHeader>\n//           <ModalBody>\n//             <FormGroup>\n//               <Label for=\"fullname\">Họ và tên</Label>\n//               <Input\n//                 id=\"fullname\"\n//                 name=\"fullname\"\n//                 value={this.props.editUserData.fullname}\n//                 onChange={this.props.onChangeEditUserHanler}\n//               />\n//             </FormGroup>\n//             <FormGroup>\n//               <Label for=\"username\">Username</Label>\n//               <Input\n//                 id=\"username\"\n//                 name=\"username\"\n//                 value={this.props.editUserData.username}\n//                 onChange={this.props.onChangeEditUserHanler}\n//               />\n//             </FormGroup>\n//             <FormGroup>\n//               <Label for=\"email\">Email</Label>\n//               <Input\n//                 id=\"email\"\n//                 name=\"email\"\n//                 value={this.props.editUserData.email}\n//                 onChange={this.props.onChangeEditUserHanler}\n//               />\n//             </FormGroup>\n//             <FormGroup>\n//               <Label for=\"phone\">Phone</Label>\n//               <Input\n//                 id=\"phone\"\n//                 name=\"phone\"\n//                 value={this.props.editUserData.phone}\n//                 onChange={this.props.onChangeEditUserHanler}\n//               />\n//             </FormGroup>\n//             <FormGroup check>\n//               <Label check>\n//                 <Input type=\"checkbox\" /> Admin\n//               </Label>\n//             </FormGroup>\n//           </ModalBody>\n//           <ModalFooter>\n//             <Button color=\"primary\" onClick={this.props.updateUser}>\n//               Update\n//             </Button>\n//             <Button color=\"secondary\" onClick={this.props.toggleEditUserModal}>\n//               Cancel\n//             </Button>\n//           </ModalFooter>\n//         </Modal>\n//       </div>\n//     );\n//   }\n// }\n// export default EditProfile;\nimport axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport swal from \"sweetalert\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction EditProfile(props) {\n  _s();\n\n  const history = useHistory();\n  const [loading, setLoading] = useState(true);\n  const [userInput, setUserInput] = useState([]);\n  const [error, setError] = useState([]);\n  useEffect(() => {\n    const id = props.match.params.id;\n    axios.get(`api/profile/${id}`).then(res => {\n      if (res.data.status === 200) {\n        setUserInput(res.data.user);\n      } else if (res.data.status === 404) {\n        swal({\n          title: \"Error\",\n          text: \"User not found\",\n          icon: \"error\",\n          button: \"OK\"\n        });\n        history.push(\"/admin/profile\");\n      }\n\n      setLoading(false);\n    });\n  }, [props.match.params.id, history]);\n\n  const handleInput = e => {\n    e.persist();\n    setUserInput({ ...userInput,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const updateUser = e => {\n    e.preventDefault();\n    const id = props.match.params.id;\n    const data = userInput;\n    axios.put(`api/profile/edit/${id}`, data).then(res => {\n      if (res.data.status === 200) {\n        swal({\n          title: \"Success\",\n          text: \"User updated\",\n          icon: \"success\",\n          button: \"OK\"\n        });\n        setError([]);\n      } else if (res.data.status === 442) {\n        swal({\n          title: \"Error\",\n          text: \"User not found\",\n          icon: \"error\",\n          button: \"OK\"\n        });\n        setError([res.data.error]);\n      } else if (res.data.status === 4) {\n        swal(\"Error\", res.data.message, \"error\");\n        history.push(\"/admin/profile\");\n      }\n    });\n  };\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container px-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [\"Ch\\u1EC9nh s\\u1EEDa th\\xF4ng tin ng\\u01B0\\u1EDDi d\\xF9ng\", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/admin/profile\",\n            className: \"btn btn-primary btn-sm float-end text-decoration-none\",\n            children: \"Quay l\\u1EA1i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: updateUser,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"H\\u1ECD v\\xE0 t\\xEAn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"fullname\",\n              onChange: handleInput,\n              value: userInput.fullname,\n              className: \"form-control\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-danger\",\n              children: error.fullname\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"username\",\n              onChange: handleInput,\n              value: userInput.username,\n              className: \"form-control\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-danger\",\n              children: error.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              name: \"email\",\n              onChange: handleInput,\n              value: userInput.email,\n              className: \"form-control\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-danger\",\n              children: error.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Phone\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"phone\",\n              onChange: handleInput,\n              value: userInput.phone,\n              className: \"form-control\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-danger\",\n              children: error.phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              name: \"password\",\n              onChange: handleInput,\n              value: userInput.password,\n              className: \"form-control\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-danger\",\n              children: error.password\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary form-control\",\n            children: \"C\\u1EADp nh\\u1EADt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EditProfile, \"wPzl0QArTUXlULhhw1gqbDVQsM4=\", false, function () {\n  return [useHistory];\n});\n\n_c = EditProfile;\nexport default EditProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditProfile\");","map":{"version":3,"sources":["C:/Users/ADMIN/Desktop/PROJECT_EASY_TEAM/FrontEnd/src/components/admin/Profile/EditProfile.js"],"names":["axios","React","useState","useEffect","useHistory","Link","swal","EditProfile","props","history","loading","setLoading","userInput","setUserInput","error","setError","id","match","params","get","then","res","data","status","user","title","text","icon","button","push","handleInput","e","persist","target","name","value","updateUser","preventDefault","put","message","fullname","username","email","phone","password"],"mappings":"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","sourcesContent":["// import React from \"react\";\n// import {\n//   Button,\n//   Modal,\n//   ModalHeader,\n//   ModalBody,\n//   ModalFooter,\n//   FormGroup,\n//   Label,\n//   Input,\n// } from \"reactstrap\";\n\n// class EditProfile extends React.Component {\n//   render() {\n//     return (\n//       <div>\n//         <Modal\n//           isOpen={this.props.editUserModal}\n//           toggle={this.props.toggleEditUserModal}\n//         >\n//           <ModalHeader toggle={this.props.toggleEditUserModal}>\n//             Update User\n//           </ModalHeader>\n//           <ModalBody>\n//             <FormGroup>\n//               <Label for=\"fullname\">Họ và tên</Label>\n//               <Input\n//                 id=\"fullname\"\n//                 name=\"fullname\"\n//                 value={this.props.editUserData.fullname}\n//                 onChange={this.props.onChangeEditUserHanler}\n//               />\n//             </FormGroup>\n//             <FormGroup>\n//               <Label for=\"username\">Username</Label>\n//               <Input\n//                 id=\"username\"\n//                 name=\"username\"\n//                 value={this.props.editUserData.username}\n//                 onChange={this.props.onChangeEditUserHanler}\n//               />\n//             </FormGroup>\n\n//             <FormGroup>\n//               <Label for=\"email\">Email</Label>\n//               <Input\n//                 id=\"email\"\n//                 name=\"email\"\n//                 value={this.props.editUserData.email}\n//                 onChange={this.props.onChangeEditUserHanler}\n//               />\n//             </FormGroup>\n//             <FormGroup>\n//               <Label for=\"phone\">Phone</Label>\n//               <Input\n//                 id=\"phone\"\n//                 name=\"phone\"\n//                 value={this.props.editUserData.phone}\n//                 onChange={this.props.onChangeEditUserHanler}\n//               />\n//             </FormGroup>\n//             <FormGroup check>\n//               <Label check>\n//                 <Input type=\"checkbox\" /> Admin\n//               </Label>\n//             </FormGroup>\n//           </ModalBody>\n//           <ModalFooter>\n//             <Button color=\"primary\" onClick={this.props.updateUser}>\n//               Update\n//             </Button>\n//             <Button color=\"secondary\" onClick={this.props.toggleEditUserModal}>\n//               Cancel\n//             </Button>\n//           </ModalFooter>\n//         </Modal>\n//       </div>\n//     );\n//   }\n// }\n// export default EditProfile;\n\nimport axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport swal from \"sweetalert\";\nfunction EditProfile(props) {\n  const history = useHistory();\n  const [loading, setLoading] = useState(true);\n  const [userInput, setUserInput] = useState([]);\n  const [error, setError] = useState([]);\n\n  useEffect(() => {\n    const id = props.match.params.id;\n    axios.get(`api/profile/${id}`).then((res) => {\n      if (res.data.status === 200) {\n        setUserInput(res.data.user);\n      } else if (res.data.status === 404) {\n        swal({\n          title: \"Error\",\n          text: \"User not found\",\n          icon: \"error\",\n          button: \"OK\",\n        });\n        history.push(\"/admin/profile\");\n      }\n      setLoading(false);\n    });\n  }, [props.match.params.id, history]);\n  const handleInput = (e) => {\n    e.persist();\n    setUserInput({ ...userInput, [e.target.name]: e.target.value });\n  };\n  const updateUser = (e) => {\n    e.preventDefault();\n\n    const id = props.match.params.id;\n    const data = userInput;\n    axios.put(`api/profile/edit/${id}`, data).then((res) => {\n      if (res.data.status === 200) {\n        swal({\n          title: \"Success\",\n          text: \"User updated\",\n          icon: \"success\",\n          button: \"OK\",\n        });\n        setError([]);\n      } else if (res.data.status === 442) {\n        swal({\n            title: \"Error\",\n            text: \"User not found\",\n            icon: \"error\",\n            button: \"OK\",\n            });\n        setError([res.data.error]);\n      }else if(res.data.status === 4){\n        swal(\"Error\", res.data.message, \"error\");\n        history.push(\"/admin/profile\");\n      }\n    });\n  };\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n  return (\n    <div className=\"container px-4\">\n      <div className=\"card mt-4\">\n        <div className=\"card-header\">\n          <h4>\n            Chỉnh sửa thông tin người dùng\n            <Link\n              to=\"/admin/profile\"\n              className=\"btn btn-primary btn-sm float-end text-decoration-none\"\n            >\n              Quay lại\n            </Link>\n          </h4>\n        </div>\n        <div className=\"card-body\">\n          <form onSubmit={updateUser}>\n            <div className=\"form-group mb-2\">\n              <label className=\"form-label\">Họ và tên</label>\n              <input\n                type=\"text\"\n                name=\"fullname\"\n                onChange={handleInput}\n                value={userInput.fullname}\n                className=\"form-control\"\n              />\n              <small className=\"text-danger\">{error.fullname}</small>\n            </div>\n            <div className=\"form-group mb-2\">\n              <label className=\"form-label\">Username</label>\n              <input\n                type=\"text\"\n                name=\"username\"\n                onChange={handleInput}\n                value={userInput.username}\n                className=\"form-control\"\n              />\n              <small className=\"text-danger\">{error.username}</small>\n            </div>\n            <div className=\"form-group mb-2\">\n              <label className=\"form-label\">Email</label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                onChange={handleInput}\n                value={userInput.email}\n                className=\"form-control\"\n              />\n              <small className=\"text-danger\">{error.email}</small>\n            </div>\n            <div className=\"form-group mb-2\">\n              <label className=\"form-label\">Phone</label>\n              <input\n                type=\"text\"\n                name=\"phone\"\n                onChange={handleInput}\n                value={userInput.phone}\n                className=\"form-control\"\n              />\n              <small className=\"text-danger\">{error.phone}</small>\n            </div>\n            <div className=\"form-group mb-2\">\n              <label className=\"form-label\">Password</label>\n              <input\n                type=\"password\"\n                name=\"password\"\n                onChange={handleInput}\n                value={userInput.password}\n                className=\"form-control\"\n              />\n              <small className=\"text-danger\">{error.password}</small>\n            </div>\n\n            <button type=\"submit\" className=\"btn btn-primary form-control\">\n              Cập nhật\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\nexport default EditProfile;\n"]},"metadata":{},"sourceType":"module"}